{
  "name": "Reza Net Notes",
  "tagline": "",
  "body": "BGP configuration example for IXP Peers\r\n\r\nYOUR AS: 11111\r\nIXP Neighbour AS: 22222\r\n\r\n\r\n\r\n\r\n    router bgp 11111\r\n     template peer-policy ixp-peers //Creat BGP Template for assign to all ixp peers\r\n      route-map ixp-peers-in in\r\n      route-map ixp-peers-out out\r\n      next-hop-self\r\n      soft-reconfiguration inbound\r\n      send-community both\r\n     exit-peer-policy\r\n     !\r\n     neighbor 10.201.x.x remote-as 22222 neighbor 10.201.x.x description IXP-NEIGHBOUR\r\n     neighbor 10.201.x.x  update-source GigabitEthernet4/0/4.262\r\n     neighbor 10.201.x.x  inherit peer-policy ixp-peers  \t\t// Assign BGP Template to Peers    \r\n    \r\n\r\n    route-map ixp-peers-in deny 100\r\n     match as-path 499\r\n    !\r\n    route-map ixp-peers-in deny 110\r\n     match ip address prefix-list RFC1918 // Reject RFC1918 , private and multicast IP's from neighbours\r\n    !\r\n    route-map ixp-peers-in permit 150\r\n     match ip address prefix-list IXP \t//Prevent received-route less than /24 subnet\r\n    !\r\n    route-map ixp-peers-in permit 200\r\n     set local-preference 150 \t\t\t// if peer advertised my route to me, my router prefer local bgp route than received-route\r\n    !\r\n    route-map ixp-peers-out deny 100\r\n     match as-path 500\t\t\t\t\t// prevent advertise IXP peer route to IXP Peers, Don't become transit AS\r\n    !\r\n    route-map ixp-peers-out permit 200\r\n     match ip address prefix-list sup_noexp\t\t\r\n     set community no-export\t\t\t//for no export my route to their IXP peers\r\n    !\r\n    !\r\n    ip prefix-list RFC1918 seq 5 permit 127.0.0.0/8 le 24\r\n    ip prefix-list RFC1918 seq 10 permit 0.0.0.0/8 le 24\r\n    ip prefix-list RFC1918 seq 15 permit 192.168.0.0/16 le 24\r\n    ip prefix-list RFC1918 seq 20 permit 169.254.0.0/16 le 24\r\n    ip prefix-list RFC1918 seq 25 permit 224.0.0.0/5 le 24\r\n    ip prefix-list RFC1918 seq 30 permit 10.0.0.0/8 le 24\r\n    ip prefix-list RFC1918 seq 35 permit 192.0.2.0/24\r\n    ip prefix-list RFC1918 seq 40 permit 172.16.0.0/12 le 24\r\n    ip prefix-list RFC1918 seq 45 permit 255.255.255.255/32    \r\n\r\n    ip prefix-list IXP seq 5 permit 0.0.0.0/0 le 24    \r\n\r\n    ip as-path access-list 499 permit ^11111$\r\n    ip as-path access-list 499 permit _11111_    \r\n\r\n    ip as-path access-list 500 permit ^33333_\r\n    ip as-path access-list 500 permit ^44444_\r\n    ip as-path access-list 500 permit ^55555_\r\n    .\r\n    .\r\n    .\r\n    .\r\n    .\r\n    ip as-path access-list 500 permit ^99999_\r\n",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}